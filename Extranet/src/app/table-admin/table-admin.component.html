<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" class multiTemplateDataRows>
      <!-- id_commessa Column -->
      <ng-container matColumnDef="cod">
        <th mat-header-cell *matHeaderCellDef> Cod. </th>
        <td mat-cell *matCellDef="let element"> {{element.id_commessa}} </td>
      </ng-container>
      <!-- Nome Column -->
      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef> Nome </th>
        <td mat-cell *matCellDef="let element"> {{element.nome}} </td>
      </ng-container>
      <!-- Cliente Column -->
      <ng-container matColumnDef="cliente">
        <th mat-header-cell *matHeaderCellDef> Cliente </th>
        <td mat-cell *matCellDef="let element"> {{element.cliente}} </td>
      </ng-container>
      <!-- Valore Column -->
      <ng-container matColumnDef="valore">
        <th mat-header-cell *matHeaderCellDef> Valore </th>
        <td mat-cell *matCellDef="let element"> {{element.valore}} </td>
      </ng-container>
       <!-- Inizio Column -->
       <ng-container matColumnDef="inizio">
        <th mat-header-cell *matHeaderCellDef> Inizio </th>
        <td mat-cell *matCellDef="let element"> {{element.inizio}} </td>
      </ng-container>
       <!-- Fine Column -->
       <ng-container matColumnDef="fine">
        <th mat-header-cell *matHeaderCellDef> Fine </th>
        <td mat-cell *matCellDef="let element"> {{element.fine}} </td>
      </ng-container>
      <!-- Get Details -->
      <ng-container matColumnDef="getdetails">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">  
          <!-- <button mat-icon-button color="accent"  (click)="getRecord(element.id_commessa)" aria-label="Example icon button with a menu icon">
          <mat-icon>menu</mat-icon> -->
        <button mat-icon-button style="color:#2B5978;"  (click)="getRecord(element.id_commessa); element.isExpanded = !element.isExpanded" ><mat-icon>list</mat-icon></button> </td> 
      </ng-container>
       <!-- Modifica -->
       <ng-container matColumnDef="getedit">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">  
        <button mat-icon-button style="color:#2B5978;"  ><mat-icon>mode_edit</mat-icon></button></td> 
      </ng-container>
         <!-- Template for details row -->
    <ng-container matColumnDef="expandedDetail">
      <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">

        <div class="row element-detail" [@detailExpand]="element.isExpanded ? 'expanded' : 'collapsed'">
          <mat-list>
            <div mat-subheader style="color: #2B5978;">Task di {{element.nome}}</div>
            <mat-list-item *ngFor="let subject of detAttivita">
              <div mat-line> - {{subject.descrizione}}</div>
              <!-- <div mat-line> {{subject.type}} | Grade: {{subject.grade}}</div> -->
            </mat-list-item>
          </mat-list>
        </div>
      </td>
    </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
      <tr mat-row *matRowDef="let element; columns: displayedColumns;"  class="element-row"
      [class.student-expanded-row]="element.isExpanded"></tr>
    
      <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="detail-row"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
